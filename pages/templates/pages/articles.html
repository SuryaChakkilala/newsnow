{% extends 'pages/main.html' %}

{% block title %}Articles{% endblock %}

{% block content %}
<div class="row py-lg-5">
  <div class="mask" style="background-color: rgba(0, 0, 0, 0.6);">
  <div class="d-flex justify-content-center align-items-center h-100">
    <div class="text-white my-5">
      <h1 class="mb-3">Articles</h1>
      <p class="mb-3">Trending articles are marked as <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="red" class="bi bi-fire" viewBox="0 0 20 20">
        <path d="M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16Zm0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15Z"/>
      </svg></p>
      <a class="btn btn-outline-light btn-lg" href="{% url 'articles' %}" role="button">View all articles</a>
      <a class="btn btn-outline-light btn-lg" href="{% url 'articlesordered' %}" role="button">Order articles by number of reads</a>
      <a class="btn btn-outline-light btn-lg" href="{% url 'breaking' %}" role="button">Breaking news</a>
    </div>
  </div>
</div>
</div>
    <div class="album py-5 bg-light">
        <div class="container">
    
          <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
            {% for article in articles %}
            <div class="col">
                <div class="card shadow-sm">
                  <img class="bd-placeholder-img card-img-top" width="100%" height="225" src="{{ article.imageURL }}" />
                    <div align="center" class="my-3">
                        <h3>{{ article.title }}{% if article.breaking %}&nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="red" class="bi bi-fire" viewBox="0 0 20 20">
                          <path d="M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16Zm0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15Z"/>
                        </svg>{% endif %}</h3>
                    </div>
                  <div class="card-body">
                    <p class="card-text">{{ article.content|truncatechars:30 }}</p>
                    <div class="d-flex justify-content-between align-items-center">
                      <div class="btn-group">
                        <a href="{% url 'article' id=article.id %}"><button type="button" class="btn btn-sm btn-outline-secondary">View</button></a>
                      </div>
                      <small class="text-muted">{{ article.timestamp }}</small>
                    </div>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
{% endblock %}